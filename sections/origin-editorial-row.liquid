{% comment %}
  Origin â€“ Editorial Row (Tier 7)
{% endcomment %}

{%- liquid
  assign columns = section.settings.columns
-%}

<section class="origin-editorial-row origin-editorial-row--cols-{{ columns }}">
  <div class="origin-editorial-row__grid">
    {%- for block in section.blocks -%}
      <article class="origin-editorial-row__item" {{ block.shopify_attributes }}>
        {% if block.settings.image != blank %}
          <div class="origin-editorial-row__media">
            {{ block.settings.image | image_url: width: 1600 | image_tag: loading: 'lazy', alt: block.settings.heading | default: block.settings.eyebrow }}
          </div>
        {% endif %}

        <div class="origin-editorial-row__text">
          {% if block.settings.eyebrow != blank %}
            <p class="origin-editorial-row__eyebrow">{{ block.settings.eyebrow }}</p>
          {% endif %}
          {% if block.settings.heading != blank %}
            <h3 class="origin-editorial-row__heading">{{ block.settings.heading }}</h3>
          {% endif %}
          {% if block.settings.body != blank %}
            <div class="origin-editorial-row__body">{{ block.settings.body }}</div>
          {% endif %}
          {% if block.settings.link_label != blank and block.settings.link_url != blank %}
            <a href="{{ block.settings.link_url }}" class="origin-editorial-row__link">
              {{ block.settings.link_label }}
            </a>
          {% endif %}
        </div>
      </article>
    {%- endfor -%}
  </div>
</section>

{% schema %}
{
  "name": "Origin Editorial Row",
  "settings": [
    {
      "type": "select",
      "id": "columns",
      "label": "Columns",
      "default": "3",
      "options": [
        { "value": "2", "label": "2 columns" },
        { "value": "3", "label": "3 columns" }
      ]
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Editorial Item",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "eyebrow", "label": "Eyebrow" },
        { "type": "text", "id": "heading", "label": "Heading", "default": "Editorial Story" },
        { "type": "richtext", "id": "body", "label": "Body", "default": "<p>Compose a short lookbook-style note.</p>" },
        { "type": "text", "id": "link_label", "label": "Link label", "default": "Explore" },
        { "type": "url", "id": "link_url", "label": "Link URL" }
      ]
    }
  ],
  "max_blocks": 3,
  "presets": [
    {
      "name": "Origin Editorial Row",
      "blocks": [
        { "type": "item" },
        { "type": "item" },
        { "type": "item" }
      ]
    }
  ]
}
{% endschema %}
