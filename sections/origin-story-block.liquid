{%- comment -%}
  Origin – Story Block (image + text split)
{%- endcomment -%}

{%- liquid
  assign image_first = section.settings.image_position == 'left'
-%}

<section class="origin-story-block">
  <div class="page-width origin-story-block__inner{% unless image_first %} origin-story-block__inner--reverse{% endunless %}">
    <div class="origin-story-block__media">
      {%- if section.settings.image != blank -%}
        <img
          src="{{ section.settings.image | image_url: width: 1600 }}"
          alt="{{ section.settings.heading | default: 'Brand story' }}"
          loading="lazy"
        >
      {%- endif -%}
    </div>
    <div class="origin-story-block__content origin-story-block__content--{{ section.settings.alignment }}">
      {% if section.settings.eyebrow != blank %}
        <p class="origin-story-block__eyebrow origin-eyebrow">{{ section.settings.eyebrow }}</p>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h2 class="origin-story-block__heading origin-heading-lg">{{ section.settings.heading }}</h2>
      {% endif %}
      {% if section.settings.body != blank %}
        <div class="origin-story-block__body origin-body">{{ section.settings.body }}</div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Origin – Story Block",
  "settings": [
    { "type": "image_picker", "id": "image", "label": "Image" },
    { "type": "text", "id": "eyebrow", "label": "Eyebrow", "default": "The maison" },
    { "type": "textarea", "id": "heading", "label": "Heading", "default": "Crafted at dawn" },
    { "type": "richtext", "id": "body", "label": "Body", "default": "<p>Share the atelier perspective, materials, and ethos.</p>" },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "default": "left",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "right", "label": "Right" }
      ]
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Text alignment",
      "default": "left",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Origin – Story Block"
    }
  ]
}
{% endschema %}
