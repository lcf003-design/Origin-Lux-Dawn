{% comment %}
  ORIGIN INTL - Custom Landing Page
  Converted from React to Liquid/Vanilla JS
{% endcomment %}

{% comment %}
  theme-check-disable RemoteAsset
{% endcomment %}
<script src="https://cdn.tailwindcss.com" defer></script>
<script src="https://unpkg.com/lucide@latest" defer></script>
{% comment %}
  theme-check-enable RemoteAsset
{% endcomment %}

<style>
  /* Smooth Scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Custom Cursor Styles */
  .custom-cursor {
    pointer-events: none;
    mix-blend-mode: difference;
    transition: transform 0.15s ease-out;
    z-index: 9999;
  }

  /* Animations */
  @keyframes float-slow {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }
  .animate-float-slow {
    animation: float-slow 6s ease-in-out infinite;
  }

  @keyframes float-medium {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-15px);
    }
  }
  .animate-float-medium {
    animation: float-medium 5s ease-in-out infinite;
  }

  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  .animate-marquee {
    animation: marquee 30s linear infinite;
  }

  .stroke-text-white {
    -webkit-text-stroke: 1px rgba(255, 255, 255, 0.3);
    color: transparent;
  }

  /* Hide scrollbar when loader or menu is active */
  body.no-scroll {
    overflow: hidden;
  }

  /* Reveal classes */
  .reveal-element {
    opacity: 0;
    transform: translateY(40px);
    transition: all 1s ease-out;
  }
  .reveal-element.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<div id="landing-app" class="bg-white min-h-screen text-black font-sans relative overflow-x-hidden">
  <div
    id="preloader"
    class="fixed inset-0 z-[10000] flex items-center justify-center bg-black text-white transition-transform duration-1000 ease-[cubic-bezier(0.7,0,0.3,1)]"
  >
    <div class="overflow-hidden">
      <h1
        id="preloader-text"
        class="text-4xl md:text-6xl font-black tracking-widest uppercase transition-transform duration-1000"
      >
        {{ section.settings.hero_headline | default: 'Origin Intl' }}
      </h1>
    </div>
  </div>

  <div
    class="fixed inset-0 pointer-events-none z-[9998] opacity-[0.03] mix-blend-overlay"
    style="background-image: url('data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noiseFilter\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.65\' numOctaves=\'3\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noiseFilter)\'/%3E%3C/svg%3E')"
  ></div>

  <div id="custom-cursor" class="fixed top-0 left-0 hidden md:block w-4 h-4 bg-white rounded-full custom-cursor"></div>

  <nav id="navbar" class="fixed top-0 w-full z-50 transition-colors duration-500">
    <div class="container mx-auto px-6 flex justify-between items-center h-20 relative z-50">
      <button id="menu-btn" class="text-black hover:text-purple-600 transition-colors relative z-50">
        <i data-lucide="menu" class="w-6 h-6"></i>
      </button>

      <div
        id="nav-logo"
        class="text-xl font-bold tracking-[0.2em] text-black absolute left-1/2 transform -translate-x-1/2 z-50 transition-opacity duration-300 opacity-0"
      >
        {{ section.settings.hero_headline | default: 'ORIGIN INTL' }}
      </div>

      <div class="flex items-center space-x-6 text-black relative z-50">
        <button class="hover:text-purple-600 transition-colors hidden md:block">
          <i data-lucide="search" class="w-5 h-5"></i>
        </button>
        <button class="hover:text-purple-600 transition-colors flex items-center gap-2">
          <span class="hidden md:inline text-xs uppercase tracking-widest font-bold">Cart (0)</span>
          <i data-lucide="shopping-bag" class="w-5 h-5"></i>
        </button>
      </div>
    </div>
  </nav>

  <div
    id="drawer-overlay"
    class="fixed inset-0 z-40 invisible pointer-events-none transition-all duration-700 ease-[cubic-bezier(0.7,0,0.3,1)]"
  >
    <div
      id="drawer-backdrop"
      class="absolute inset-0 bg-white/80 backdrop-blur-md opacity-0 transition-opacity duration-700"
    ></div>
    <div
      id="drawer-panel"
      class="relative w-full md:w-1/2 h-full bg-white border-r border-gray-200 flex flex-col justify-center px-12 md:px-24 transition-transform duration-700 ease-[cubic-bezier(0.7,0,0.3,1)] -translate-x-full"
    >
      <button id="drawer-close" class="absolute top-6 left-6 text-black hover:text-purple-600">
        <i data-lucide="x" class="w-8 h-8"></i>
      </button>

      <div class="flex flex-col gap-6">
        <a
          href="#collections"
          class="drawer-link text-3xl md:text-5xl font-light text-black uppercase tracking-widest hover:text-purple-600 hover:pl-4 transition-all duration-300 w-fit"
          >Collections</a
        >
        <a
          href="#"
          class="drawer-link text-3xl md:text-5xl font-light text-black uppercase tracking-widest hover:text-purple-600 hover:pl-4 transition-all duration-300 w-fit"
          >New Arrivals</a
        >
        <a
          href="#"
          class="drawer-link text-3xl md:text-5xl font-light text-black uppercase tracking-widest hover:text-purple-600 hover:pl-4 transition-all duration-300 w-fit"
          >Designers</a
        >
        <a
          href="#"
          class="drawer-link text-3xl md:text-5xl font-light text-black uppercase tracking-widest hover:text-purple-600 hover:pl-4 transition-all duration-300 w-fit"
          >About</a
        >
      </div>
    </div>
  </div>

  <section class="relative h-screen w-full overflow-hidden flex flex-col items-center justify-center bg-white">
    <div
      class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-purple-100/60 rounded-full blur-[120px]"
    ></div>

    <div id="parallax-container" class="absolute inset-0 z-0 overflow-hidden pointer-events-none">
      {%- comment -%} Parallax Image 1: Bottom Right {%- endcomment -%}
      {%- if section.settings.parallax_img_1 != blank -%}
        <div
          class="parallax-layer absolute bottom-[5%] right-[2%] w-[28vw] md:w-[22vw] aspect-square rounded-full overflow-hidden shadow-2xl bg-gray-50 z-20"
          data-speed="40"
        >
          <img
            src="{{ section.settings.parallax_img_1 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_1.width }}"
            height="{{ section.settings.parallax_img_1.height }}"
            class="w-full h-full object-cover animate-float-slow mix-blend-multiply"
            alt="{{ section.settings.parallax_img_1.alt | escape }}"
          >
        </div>
      {%- endif -%}

      {%- comment -%} Parallax Image 2: Top Left {%- endcomment -%}
      {%- if section.settings.parallax_img_2 != blank -%}
        <div
          class="parallax-layer absolute top-[18%] left-[8%] w-[24vw] md:w-[18vw] aspect-square rounded-full overflow-hidden shadow-2xl bg-gray-50 z-10"
          data-speed="-25"
        >
          <img
            src="{{ section.settings.parallax_img_2 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_2.width }}"
            height="{{ section.settings.parallax_img_2.height }}"
            class="w-full h-full object-cover animate-float-slow opacity-90 mix-blend-multiply"
            alt="{{ section.settings.parallax_img_2.alt | escape }}"
          >
        </div>
      {%- endif -%}

      {%- comment -%} Parallax Image 3: Top Right {%- endcomment -%}
      {%- if section.settings.parallax_img_3 != blank -%}
        <div
          class="parallax-layer absolute top-[15%] right-[10%] w-[22vw] md:w-[16vw] aspect-square rounded-full overflow-hidden shadow-2xl bg-gray-50 z-10"
          data-speed="15"
        >
          <img
            src="{{ section.settings.parallax_img_3 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_3.width }}"
            height="{{ section.settings.parallax_img_3.height }}"
            class="w-full h-full object-cover animate-float-medium opacity-80 mix-blend-multiply"
            alt="{{ section.settings.parallax_img_3.alt | escape }}"
          >
        </div>
      {%- endif -%}

      {%- comment -%} Parallax Image 4: Bottom Left (Added) {%- endcomment -%}
      {%- if section.settings.parallax_img_4 != blank -%}
        <div
          class="parallax-layer absolute bottom-[15%] left-[5%] w-[20vw] md:w-[14vw] aspect-square rounded-full overflow-hidden shadow-2xl bg-gray-50 z-10"
          data-speed="-15"
        >
          <img
            src="{{ section.settings.parallax_img_4 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_4.width }}"
            height="{{ section.settings.parallax_img_4.height }}"
            class="w-full h-full object-cover animate-float-slow opacity-85 mix-blend-multiply"
            alt="{{ section.settings.parallax_img_4.alt | escape }}"
          >
        </div>
      {%- endif -%}

      {%- comment -%} Parallax Image 5: Center Top (Added) {%- endcomment -%}
      {%- if section.settings.parallax_img_5 != blank -%}
        <div
          class="parallax-layer absolute top-[8%] left-[45%] w-[18vw] md:w-[12vw] aspect-square rounded-full overflow-hidden shadow-2xl bg-gray-50 z-5"
          data-speed="30"
        >
          <img
            src="{{ section.settings.parallax_img_5 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_5.width }}"
            height="{{ section.settings.parallax_img_5.height }}"
            class="w-full h-full object-cover animate-float-medium opacity-75 mix-blend-multiply"
            alt="{{ section.settings.parallax_img_5.alt | escape }}"
          >
        </div>
      {%- endif -%}
    </div>

    <div class="w-full relative z-30 flex flex-col items-center justify-center h-full pointer-events-none">
      <div
        id="hero-text-wrapper"
        class="w-full flex justify-center items-center origin-center transition-transform duration-75"
      >
        <h1 class="text-[22vw] leading-[0.8] font-black text-black uppercase tracking-tighter whitespace-nowrap text-center select-none opacity-90">
          {{ section.settings.hero_headline | default: 'ORIGIN INTL' }}
        </h1>
      </div>
      <div
        id="hero-cta"
        class="absolute bottom-24 flex flex-col items-center gap-6 pointer-events-auto transition-opacity duration-300"
      >
        <p class="text-gray-500 text-xs md:text-sm uppercase tracking-[0.3em]">
          {{ section.settings.hero_subheadline | default: 'Vanguard of Luxury' }}
        </p>
        <a
          href="{{ section.settings.hero_cta_link }}"
          class="px-8 py-3 bg-transparent border border-black text-black text-xs font-bold uppercase tracking-widest hover:bg-black hover:text-white transition-all duration-300"
        >
          {{ section.settings.hero_cta_label | default: 'Collection' }}
        </a>
      </div>
    </div>
  </section>

  <div class="w-full bg-black py-4 overflow-hidden flex whitespace-nowrap z-20 relative">
    {%- assign marquee_content = section.settings.marquee_text
      | default: 'GUCCI PRADA BALENCIAGA CHANEL DIOR OFF-WHITE VERSACE'
    -%}
    <div class="animate-marquee flex gap-16 items-center">
      <span class="stroke-text-white text-4xl md:text-6xl font-black uppercase tracking-tighter opacity-70">
        {{ marquee_content }}
        {{ marquee_content }}
      </span>
    </div>
  </div>

  <section id="collections" class="py-20 bg-white">
    <div class="container mx-auto px-6">
      <div class="flex justify-between items-end mb-12 border-b border-gray-200 pb-6 reveal-element">
        <div>
          <h2 class="text-3xl md:text-5xl font-bold text-black uppercase tracking-tight mb-2">The Collection</h2>
          <p class="text-gray-500 text-sm tracking-wide">Curated specifically for the bold.</p>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {%- for block in section.blocks -%}
          {%- if block.type == 'collection_card' -%}
            <a
              href="{{ block.settings.card_link }}"
              class="group reveal-element cursor-pointer"
              style="transition-delay: {{ forloop.index | times: 100 }}ms;"
            >
              <div class="relative overflow-hidden bg-gray-50 border border-gray-100 aspect-square w-full mb-4">
                <div
                  class="absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-500 z-10"
                ></div>
                {%- if block.settings.card_image != blank -%}
                  {{
                    block.settings.card_image
                    | image_url: width: 800
                    | image_tag:
                      class: 'w-full h-full object-cover transition-transform duration-1000 ease-out group-hover:scale-110'
                  }}
                {%- else -%}
                  {{
                    'collection-1'
                    | placeholder_svg_tag: 'w-full h-full object-cover transition-transform duration-1000 ease-out group-hover:scale-110 opacity-30'
                  }}
                {%- endif -%}
              </div>
              <h3 class="text-xl font-bold uppercase tracking-wider group-hover:text-purple-600 transition-colors">
                {{ block.settings.card_title | default: 'Collection Name' }}
              </h3>
            </a>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </section>

  <footer class="bg-white text-black pt-20 pb-10 border-t border-gray-200">
    <div class="container mx-auto px-6 text-center md:text-left">
      <h2 class="text-3xl font-black uppercase tracking-tighter mb-6">
        {{ section.settings.hero_headline | default: 'Origin.Lux' }}
      </h2>
      <p class="text-xs text-gray-500 uppercase tracking-widest">
        &copy; {{ 'now' | date: '%Y' }}
        {{ section.settings.hero_headline | default: 'Origin Intl' }}
      </p>
    </div>
  </footer>
</div>

<script>
  (function () {
    function initFreshStartLanding() {
      // Initialize Icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }

      // --- Preloader Logic ---
      const preloader = document.getElementById('preloader');
      const preloaderText = document.getElementById('preloader-text');

      // Failsafe: Hide preloader after 3s max even if logic fails slightly
      if (preloader) {
        setTimeout(() => {
          if (preloaderText) preloaderText.style.transform = 'translateY(-100%)';
          preloader.style.transform = 'translateY(-100%)';
        }, 1500);
      }

      // --- Custom Cursor ---
      const cursor = document.getElementById('custom-cursor');
      if (cursor) {
        document.addEventListener('mousemove', (e) => {
          cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px) translate(-50%, -50%)`;

          // Scale up on hoverable elements
          const target = e.target;
          const isHoverable =
            target.tagName === 'A' || target.tagName === 'BUTTON' || target.closest('a') || target.closest('button');

          if (isHoverable) {
            cursor.style.width = '40px';
            cursor.style.height = '40px';
          } else {
            cursor.style.width = '16px';
            cursor.style.height = '16px';
          }
        });
      }

      // --- Menu Drawer Logic ---
      const menuBtn = document.getElementById('menu-btn');
      const drawerOverlay = document.getElementById('drawer-overlay');
      const drawerBackdrop = document.getElementById('drawer-backdrop');
      const drawerPanel = document.getElementById('drawer-panel');
      const drawerClose = document.getElementById('drawer-close');
      const drawerLinks = document.querySelectorAll('.drawer-link');
      let isMenuOpen = false;

      function toggleMenu(open) {
        isMenuOpen = open;
        if (!drawerOverlay || !drawerPanel) return;

        if (open) {
          drawerOverlay.classList.remove('invisible', 'pointer-events-none');
          drawerOverlay.classList.add('visible', 'pointer-events-auto');

          // Allow small delay for CSS transition to catch the display change
          setTimeout(() => {
            if (drawerBackdrop) drawerBackdrop.classList.remove('opacity-0');
            drawerPanel.classList.remove('-translate-x-full');
          }, 10);
        } else {
          if (drawerBackdrop) drawerBackdrop.classList.add('opacity-0');
          drawerPanel.classList.add('-translate-x-full');
          setTimeout(() => {
            drawerOverlay.classList.add('invisible', 'pointer-events-none');
            drawerOverlay.classList.remove('visible', 'pointer-events-auto');
          }, 700);
        }
      }

      if (menuBtn) menuBtn.addEventListener('click', () => toggleMenu(true));
      if (drawerBackdrop) drawerBackdrop.addEventListener('click', () => toggleMenu(false));
      if (drawerClose) drawerClose.addEventListener('click', () => toggleMenu(false));
      drawerLinks.forEach((link) => link.addEventListener('click', () => toggleMenu(false)));

      // --- Scroll & Parallax Logic ---
      const navbar = document.getElementById('navbar');
      const navLogo = document.getElementById('nav-logo');
      const heroText = document.getElementById('hero-text-wrapper');
      const heroCta = document.getElementById('hero-cta');
      const parallaxLayers = document.querySelectorAll('.parallax-layer');

      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY;

        // Navbar Styles
        if (navbar) {
          if (scrollY > 50) {
            navbar.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
            navbar.style.backdropFilter = 'blur(10px)';
          } else {
            navbar.style.backgroundColor = 'rgba(255, 255, 255, 0)';
            navbar.style.backdropFilter = 'none';
          }
        }

        // Logo Fade
        if (navLogo) {
          const logoOpacity = Math.max(0, (scrollY - 250) / 100);
          navLogo.style.opacity = logoOpacity;
        }

        // Hero Text Parallax
        if (heroText) {
          const progress = Math.min(1, scrollY / 400);
          const scale = 1 - 0.85 * progress;
          const translateY = -150 * progress;
          heroText.style.transform = `translateY(${translateY}px) scale(${scale})`;
        }

        // CTA Fade
        if (heroCta) {
          heroCta.style.opacity = Math.max(0, 1 - scrollY / 200);
        }
      });

      // Mouse Parallax for Hero Images
      document.addEventListener('mousemove', (e) => {
        const x = (e.clientX / window.innerWidth) * 2 - 1;
        const y = (e.clientY / window.innerHeight) * 2 - 1;

        parallaxLayers.forEach((layer) => {
          const speed = layer.getAttribute('data-speed');
          const xOffset = x * speed;
          const yOffset = y * speed;
          layer.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
        });
      });

      // --- Reveal on Scroll (Intersection Observer) ---
      const revealElements = document.querySelectorAll('.reveal-element');
      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.1 },
        );

        revealElements.forEach((el) => observer.observe(el));
      } else {
        // Fallback
        revealElements.forEach((el) => el.classList.add('visible'));
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initFreshStartLanding);
    } else {
      initFreshStartLanding();
    }
  })();
</script>

{% schema %}
{
  "name": "Fresh Start Landing",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "text",
      "id": "hero_headline",
      "label": "Main Headline",
      "default": "ORIGIN INTL"
    },
    {
      "type": "text",
      "id": "hero_subheadline",
      "label": "Subheadline",
      "default": "Vanguard of Luxury"
    },
    {
      "type": "text",
      "id": "hero_cta_label",
      "label": "CTA Button Label",
      "default": "Collection"
    },
    {
      "type": "url",
      "id": "hero_cta_link",
      "label": "CTA Link"
    },
    {
      "type": "header",
      "content": "Parallax Images"
    },
    {
      "type": "paragraph",
      "content": "Upload 5 transparent PNGs for the best floating effect."
    },
    {
      "type": "image_picker",
      "id": "parallax_img_1",
      "label": "Image 1 (Bottom Right)"
    },
    {
      "type": "image_picker",
      "id": "parallax_img_2",
      "label": "Image 2 (Top Left)"
    },
    {
      "type": "image_picker",
      "id": "parallax_img_3",
      "label": "Image 3 (Top Right)"
    },
    {
      "type": "image_picker",
      "id": "parallax_img_4",
      "label": "Image 4 (Bottom Left)"
    },
    {
      "type": "image_picker",
      "id": "parallax_img_5",
      "label": "Image 5 (Center Top)"
    },
    {
      "type": "header",
      "content": "Marquee"
    },
    {
      "type": "textarea",
      "id": "marquee_text",
      "label": "Marquee Text",
      "default": "GUCCI PRADA BALENCIAGA CHANEL DIOR OFF-WHITE VERSACE"
    }
  ],
  "blocks": [
    {
      "type": "collection_card",
      "name": "Collection Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Card Image"
        },
        {
          "type": "text",
          "id": "card_title",
          "label": "Title",
          "default": "Collection Name"
        },
        {
          "type": "url",
          "id": "card_link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Fresh Start Landing",
      "blocks": [
        { "type": "collection_card", "settings": { "card_title": "Ready to Wear" } },
        { "type": "collection_card", "settings": { "card_title": "Handbags" } },
        { "type": "collection_card", "settings": { "card_title": "Footwear" } },
        { "type": "collection_card", "settings": { "card_title": "Accessories" } }
      ]
    }
  ]
}
{% endschema %}
