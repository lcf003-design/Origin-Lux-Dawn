{% comment %}
  Fresh Start Hero
  Contains: Navbar, Custom Cursor, Preloader, and 3D Parallax Hero
{% endcomment %}

{% comment %}
  theme-check-disable RemoteAsset
{% endcomment %}
<script src="https://cdn.tailwindcss.com" defer></script>
<script src="https://unpkg.com/lucide@latest" defer></script>
{% comment %}
  theme-check-enable RemoteAsset
{% endcomment %}

<style>
  html {
    scroll-behavior: smooth;
  }

  /* Utilities */
  body.no-scroll {
    overflow: hidden;
  }

  /* Dreamy Crystal Ball Effect */
  .liquid-glass-sphere {
    border-radius: 50%;
    overflow: hidden;
  }

  .liquid-glass-sphere::after {
    content: '';
    position: absolute;
    inset: 0;
    z-index: 20;
    pointer-events: none;
    border-radius: 50%;
    box-shadow:
      inset -10px -10px 40px rgba(0, 0, 0, 0.4),
      inset 10px 10px 30px rgba(255, 255, 255, 0.9),
      inset 0px 0px 20px rgba(255, 255, 255, 0.3),
      0px 0px 30px rgba(255, 255, 255, 0.4),
      0px 20px 40px rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.7);
    background:
      radial-gradient(circle at center, rgba(255, 255, 255, 0.15), transparent 70%),
      radial-gradient(circle at 35% 35%, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
  }

  /* Floating Animations */
  @keyframes float-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }
  .animate-float-slow { animation: float-slow 6s ease-in-out infinite; }

  @keyframes float-medium {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
  }
  .animate-float-medium { animation: float-medium 5s ease-in-out infinite; }

  /* Responsive Position */
  #hero-content-{{ section.id }} {
    margin-top: {{ section.settings.content_position_y_mobile }}%;
    pointer-events: auto !important;
    z-index: 60 !important;
  }
  @media (min-width: 768px) {
    #hero-content-{{ section.id }} {
      margin-top: {{ section.settings.content_position_y }}%;
    }
  }

  /* --- SECTION WRAPPER ELEVATION (Global Stack Fix) --- */
  /* This ensures the entire Hero component sits above the Header's base layer */
  #shopify-section-{{ section.id }} {
    position: relative !important;
    z-index: 60 !important; /* Higher than Header (50) */
    pointer-events: none; /* Allow pass-through to header menu */
  }
</style>

<div class="relative w-full bg-white font-sans text-black overflow-hidden">
  <!-- Preloader -->
  {%- if section.settings.enable_preloader -%}
    <div
      id="fs-preloader"
      class="fixed inset-0 z-[10000] flex items-center justify-center bg-black text-white transition-transform duration-1000 ease-[cubic-bezier(0.7,0,0.3,1)] pointer-events-auto"
    >
      <div class="overflow-hidden">
        <h1
          id="fs-preloader-text"
          class="text-4xl md:text-6xl font-black tracking-widest uppercase transition-transform duration-1000"
        >
          {{ section.settings.hero_headline | default: 'Origin Intl' }}
        </h1>
      </div>
    </div>
  {%- endif -%}

  <!-- Noise Overlay -->
  <div
    class="fixed inset-0 pointer-events-none z-[40] opacity-[0.03] mix-blend-overlay"
    style="background-image: url('data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noiseFilter\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.65\' numOctaves=\'3\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noiseFilter)\'/%3E%3C/svg%3E')"
  ></div>

  <!-- Main Hero Section -->
  <section class="relative w-full overflow-hidden flex flex-col items-center justify-start bg-white {% if section.settings.hero_height_mobile == 'adapt' %}h-auto min-h-[400px]{% else %}{{ section.settings.hero_height_mobile }}{% endif %} md:{% if section.settings.hero_height_desktop == 'adapt' %}h-auto min-h-[500px]{% else %}{{ section.settings.hero_height_desktop }}{% endif %}">
    <!-- Background Layer (Z-0) -->
    <div class="absolute inset-0 z-0 overflow-hidden pointer-events-none">
      {%- if section.settings.bg_image != blank -%}
        <img
          src="{{ section.settings.bg_image | image_url: width: 2400 }}"
          alt="{{ section.settings.bg_image.alt | escape }}"
          width="{{ section.settings.bg_image.width }}"
          height="{{ section.settings.bg_image.height }}"
          class="w-full h-full object-cover transition-transform duration-700 ease-out {% if section.settings.bg_image_mobile != blank %}max-md:hidden{% endif %}"
          style="transform: scale({{ section.settings.hero_bg_scale | divided_by: 100.0 }}); transform-origin: center;"
        >
        {%- if section.settings.bg_image_mobile != blank -%}
          <img
            src="{{ section.settings.bg_image_mobile | image_url: width: 1200 }}"
            alt="{{ section.settings.bg_image_mobile.alt }}"
            width="{{ section.settings.bg_image_mobile.width }}"
            height="{{ section.settings.bg_image_mobile.height }}"
            class="w-full h-full object-cover transition-transform duration-700 ease-out block md:hidden"
            style="transform: scale({{ section.settings.hero_bg_scale | divided_by: 100.0 }}); transform-origin: center;"
          >
        {%- endif -%}
      {%- endif -%}
      <!-- Glow -->
      <div
        class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-purple-100/60 rounded-full blur-[120px]"
      ></div>
    </div>

    <!-- Parallax Layer (Z-10) -->
    <div id="fs-parallax-container" class="absolute inset-0 z-10 overflow-hidden pointer-events-none">
      <!-- Img 1 -->
      {%- if section.settings.parallax_img_1 != blank -%}
        <div
          class="parallax-layer liquid-glass-sphere absolute bottom-[5%] right-[2%] w-[12vw] md:w-[22vw] aspect-square z-20 isolate"
          data-speed="40"
        >
          <img
            src="{{ section.settings.parallax_img_1 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_1.width }}"
            height="{{ section.settings.parallax_img_1.height }}"
            alt="{{ section.settings.parallax_img_1.alt | escape }}"
            class="w-full h-full object-cover animate-float-slow scale-[1.5] rounded-full"
          >
        </div>
      {%- endif -%}
      <!-- Img 2 -->
      {%- if section.settings.parallax_img_2 != blank -%}
        <div
          class="parallax-layer liquid-glass-sphere absolute top-[18%] left-[8%] w-[11vw] md:w-[18vw] aspect-square z-10 isolate"
          data-speed="-25"
        >
          <img
            src="{{ section.settings.parallax_img_2 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_2.width }}"
            height="{{ section.settings.parallax_img_2.height }}"
            alt="{{ section.settings.parallax_img_2.alt | escape }}"
            class="w-full h-full object-cover animate-float-slow scale-[1.5] rounded-full"
          >
        </div>
      {%- endif -%}
      <!-- Img 3 -->
      {%- if section.settings.parallax_img_3 != blank -%}
        <div
          class="parallax-layer liquid-glass-sphere absolute top-[15%] right-[10%] w-[10vw] md:w-[16vw] aspect-square z-10 isolate"
          data-speed="15"
        >
          <img
            src="{{ section.settings.parallax_img_3 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_3.width }}"
            height="{{ section.settings.parallax_img_3.height }}"
            alt="{{ section.settings.parallax_img_3.alt | escape }}"
            class="w-full h-full object-cover animate-float-medium scale-[1.5] rounded-full"
          >
        </div>
      {%- endif -%}
      <!-- Img 4 -->
      {%- if section.settings.parallax_img_4 != blank -%}
        <div
          class="parallax-layer liquid-glass-sphere absolute bottom-[15%] left-[5%] w-[9vw] md:w-[14vw] aspect-square z-10 isolate"
          data-speed="-15"
        >
          <img
            src="{{ section.settings.parallax_img_4 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_4.width }}"
            height="{{ section.settings.parallax_img_4.height }}"
            alt="{{ section.settings.parallax_img_4.alt | escape }}"
            class="w-full h-full object-cover animate-float-slow scale-[1.5] rounded-full"
          >
        </div>
      {%- endif -%}
      <!-- Img 5 -->
      {%- if section.settings.parallax_img_5 != blank -%}
        <div
          class="parallax-layer liquid-glass-sphere absolute top-[8%] left-[45%] w-[8vw] md:w-[12vw] aspect-square z-5 isolate"
          data-speed="30"
        >
          <img
            src="{{ section.settings.parallax_img_5 | image_url: width: 800 }}"
            width="{{ section.settings.parallax_img_5.width }}"
            height="{{ section.settings.parallax_img_5.height }}"
            alt="{{ section.settings.parallax_img_5.alt | escape }}"
            class="w-full h-full object-cover animate-float-medium scale-[1.5] rounded-full"
          >
        </div>
      {%- endif -%}
    </div>

    <!-- Content Container (Z-50: Above Header Logo Z-40) -->
    <div
      id="hero-content-{{ section.id }}"
      class="relative z-50 flex flex-col items-center gap-6 pointer-events-auto w-full max-w-4xl px-4 text-center"
    >
      <!-- Subheadline -->
      <p
        class="text-gray-500 text-xs md:text-sm uppercase tracking-[0.3em]"
        style="font-size: {{ section.settings.subheadline_scale }}%;"
      >
        {{ section.settings.hero_subheadline | default: 'Vanguard of Luxury' }}
      </p>

      <!-- Buttons -->
      <div class="flex gap-6 mt-4 justify-center flex-wrap">
        {%- if section.settings.cta_label_1 != blank -%}
          <a
            href="{{ section.settings.cta_link_1 }}"
            class="w-48 py-4 flex items-center justify-center bg-white/10 backdrop-blur-md border border-white/20 text-black text-sm font-bold uppercase tracking-[0.2em] shadow-xl hover:bg-white hover:text-black rounded-sm transition-all duration-300"
          >
            {{ section.settings.cta_label_1 }}
          </a>
        {%- endif -%}
        {%- if section.settings.cta_label_2 != blank -%}
          <a
            href="{{ section.settings.cta_link_2 }}"
            class="w-48 py-4 flex items-center justify-center bg-white/10 backdrop-blur-md border border-white/20 text-black text-sm font-bold uppercase tracking-[0.2em] shadow-xl hover:bg-white hover:text-black rounded-sm transition-all duration-300"
          >
            {{ section.settings.cta_label_2 }}
          </a>
        {%- endif -%}
      </div>
    </div>
  </section>
</div>

<script>
  (function () {
    function initFreshStartHero() {
      if (typeof lucide !== 'undefined') lucide.createIcons();

      // Preloader
      const preloader = document.getElementById('fs-preloader');
      const preloaderText = document.getElementById('fs-preloader-text');
      if (preloader) {
        setTimeout(() => {
          if (preloaderText) preloaderText.style.transform = 'translateY(-100%)';
          preloader.style.transform = 'translateY(-100%)';
          setTimeout(() => {
            preloader.style.display = 'none';
          }, 1000);
        }, 1500);
      }

      // Parallax Logic
      const layers = document.querySelectorAll('.parallax-layer');
      document.addEventListener('mousemove', (e) => {
        const x = (e.clientX / window.innerWidth) * 2 - 1;
        const y = (e.clientY / window.innerHeight) * 2 - 1;
        layers.forEach((layer) => {
          const speed = layer.getAttribute('data-speed');
          layer.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
        });
      });
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initFreshStartHero);
    } else {
      initFreshStartHero();
    }
  })();
</script>

{% schema %}
{
  "name": "Fresh Start Hero",
  "settings": [
    { "type": "checkbox", "id": "enable_preloader", "label": "Enable Opening Wipe Screen", "default": false },
    { "type": "text", "id": "hero_headline", "label": "Headline", "default": "ORIGIN INTL" },
    { "type": "text", "id": "hero_subheadline", "label": "Subheadline", "default": "Vanguard of Luxury" },
    {
      "type": "range",
      "id": "subheadline_scale",
      "min": 100,
      "max": 300,
      "step": 10,
      "default": 100,
      "unit": "%",
      "label": "Subheadline Scale"
    },
    { "type": "header", "content": "CTA Buttons" },
    { "type": "text", "id": "cta_label_1", "label": "Button 1 Label", "default": "Women" },
    { "type": "url", "id": "cta_link_1", "label": "Button 1 Link" },
    { "type": "text", "id": "cta_label_2", "label": "Button 2 Label", "default": "Men" },
    { "type": "url", "id": "cta_link_2", "label": "Button 2 Link" },
    { "type": "header", "content": "Parallax Images" },
    { "type": "image_picker", "id": "parallax_img_1", "label": "Bottom Right" },
    { "type": "image_picker", "id": "parallax_img_2", "label": "Top Left" },
    { "type": "image_picker", "id": "parallax_img_3", "label": "Top Right" },
    { "type": "image_picker", "id": "parallax_img_4", "label": "Bottom Left" },
    { "type": "image_picker", "id": "parallax_img_5", "label": "Center Top" },
    { "type": "header", "content": "Background Settings" },
    { "type": "image_picker", "id": "bg_image", "label": "Background Image (Desktop)" },
    { "type": "image_picker", "id": "bg_image_mobile", "label": "Background Image (Mobile)" },
    {
      "type": "range",
      "id": "hero_bg_scale",
      "min": 100,
      "max": 200,
      "step": 5,
      "default": 100,
      "unit": "%",
      "label": "Background Image Scale"
    },
    {
      "type": "range",
      "id": "content_position_y",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 75,
      "unit": "%",
      "label": "Vertical Position (Top to Bottom)"
    },
    {
      "type": "range",
      "id": "content_position_y_mobile",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 85,
      "unit": "%",
      "label": "Vertical Position (Mobile)"
    },
    { "type": "header", "content": "Section Layout" },
    {
      "type": "select",
      "id": "hero_height_desktop",
      "label": "Desktop Section Height",
      "options": [
        { "value": "h-screen", "label": "Full Screen" },
        { "value": "h-[80vh]", "label": "80% Height" },
        { "value": "h-[60vh]", "label": "60% Height" },
        { "value": "adapt", "label": "Adapt to Image" }
      ],
      "default": "h-screen"
    },
    {
      "type": "select",
      "id": "hero_height_mobile",
      "label": "Mobile Section Height",
      "options": [
        { "value": "h-screen", "label": "Full Screen" },
        { "value": "h-[80vh]", "label": "80% Height" },
        { "value": "h-[60vh]", "label": "60% Height" },
        { "value": "adapt", "label": "Adapt to Image" }
      ],
      "default": "h-screen"
    }
  ],
  "presets": [{ "name": "Fresh Start Hero" }]
}
{% endschema %}
