{% style %}
  .gucci-spread-section {
    /* REMOVED padding to let it hit the edges */
    padding: 0; 
    background-color: {{ section.settings.bg_color }};
    overflow: hidden;
    width: 100%;
  }

  .gucci-spread-container {
    /* FULL WIDTH SETTINGS */
    max-width: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  /* --- THE GRID (2 MASSIVE IMAGES) --- */
  .gucci-spread-grid {
    display: grid;
    grid-template-columns: 1fr; /* Stack on mobile */
    gap: 0; /* No gap between images for seamless look */
    align-items: stretch; /* Force equal height */
  }

  @media (min-width: 990px) {
    .gucci-spread-grid {
      grid-template-columns: 1fr 1fr; /* Split 50/50 Desktop */
      align-items: end;
    }
  }

  /* --- IMAGES --- */
  .gs-image-wrapper {
    position: relative;
    width: 100%;
    background-color: #f6f6f6;
    /* Height control: minimal portrait ratio */
    aspect-ratio: 0.85; 
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .gs-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Covers the whole area beautifully */
    object-position: center;
    transition: opacity 0.4s ease;
  }

  /* --- RIGHT SIDE COLUMN --- */
  .gs-right-column {
    display: flex;
    flex-direction: column;
    position: relative; /* For absolute thumbnail positioning if needed */
  }

  /* --- THUMBNAIL CAROUSEL (Floating Styling) --- */
  .gs-thumbnails-overlay {
    position: absolute;
    bottom: 30px;
    right: 30px;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255,255,255,0.9);
    padding: 10px 15px;
    border-radius: 4px;
    backdrop-filter: blur(5px);
  }

  .gs-thumb-scroller {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    scroll-behavior: smooth;
    max-width: 300px; 
    /* Hide scrollbar */
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .gs-thumb-scroller::-webkit-scrollbar { display: none; }

  .gs-thumb {
    min-width: 45px;
    height: 45px;
    border: 1px solid transparent;
    cursor: pointer;
    opacity: 0.6;
    transition: all 0.2s;
  }
  
  .gs-thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .gs-thumb:hover, .gs-thumb.active {
    opacity: 1;
    border: 1px solid #000;
  }

  /* Navigation Arrows */
  .gs-nav-btn {
    background: transparent;
    border: none;
    width: 24px;
    height: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #333;
  }
  .gs-nav-btn:hover { color: #000; }
  .gs-nav-btn svg { width: 16px; height: 16px; }

{% endstyle %}

<div class="gucci-spread-section">
  <div class="gucci-spread-container">
    
    <div class="gucci-spread-grid">
      
      <!-- LEFT HERO IMAGE -->
      <div class="gs-image-wrapper">
        {% if product.featured_media %}
          <img id="gs-main-left" 
               src="{{ product.featured_media | image_url: width: 2000 }}" 
               alt="{{ product.title }}"
               loading="eager">
        {% else %}
          {{ 'product-1' | placeholder_svg_tag }}
        {% endif %}
      </div>

      <!-- RIGHT HERO IMAGE -->
      <div class="gs-right-column">
        <div class="gs-image-wrapper">
          {% if product.media.size > 1 %}
            <img id="gs-main-right" 
                 src="{{ product.media[1] | image_url: width: 2000 }}" 
                 alt="{{ product.title }}"
                 loading="eager">
          {% else %}
             <img id="gs-main-right" 
                 src="{{ product.featured_media | image_url: width: 2000 }}" 
                 alt="{{ product.title }}">
          {% endif %}
        </div>

        <!-- FLOATING THUMBNAILS (Bottom Right) -->
        <div class="gs-thumbnails-overlay">
          <button class="gs-nav-btn prev" onclick="scrollThumbs(-1)">
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><polyline points="15 18 9 12 15 6"></polyline></svg>
          </button>
          
          <div class="gs-thumb-scroller" id="gsThumbScroller">
            {% for media in product.media %}
              <div class="gs-thumb {% if forloop.first %}active{% endif %}" 
                   onclick="updateSpread(this, '{{ media | image_url: width: 2000 }}')">
                <img src="{{ media | image_url: width: 200 }}" alt="Thumbnail">
              </div>
            {% endfor %}
          </div>

          <button class="gs-nav-btn next" onclick="scrollThumbs(1)">
            <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"><polyline points="9 18 15 12 9 6"></polyline></svg>
          </button>
        </div>
      </div>

    </div>

  </div>
</div>

<script>
  function updateSpread(thumb, largeSrc) {
    document.querySelectorAll('.gs-thumb').forEach(t => t.classList.remove('active'));
    thumb.classList.add('active');

    const rightImage = document.getElementById('gs-main-right');
    rightImage.style.opacity = 0.5;
    setTimeout(() => {
      rightImage.src = largeSrc;
      rightImage.style.opacity = 1;
    }, 200);
  }

  function scrollThumbs(direction) {
    const scroller = document.getElementById('gsThumbScroller');
    scroller.scrollBy({ left: direction * 150, behavior: 'smooth' });
  }
</script>

{% schema %}
{
  "name": "Gucci Full Spread",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#F5F5F5"
    }
  ],
  "presets": [
    {
      "name": "Gucci Full Spread"
    }
  ]
}
{% endschema %}


